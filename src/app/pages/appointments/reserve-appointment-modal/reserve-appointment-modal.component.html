<div class="modal-header">
  <h2>Reserve New Appointment</h2>
  <button
      aria-label="Close"
      class="close"
      data-dismiss="modal"
      type="button"
      (click)="handleModalHide()"
    >
      <span aria-hidden="true"> Ã— </span>
    </button>
</div>
<div class="modal-body">
<div class="card">
  <div class="card-body">
    <div class="patient-info-form">
      <form *ngIf="!isAddingPatient" [formGroup]="patientInfoForm">
        <div class="form-group">
          <label for="phone-number">Phone Number</label>
          <input
            type="tel"
            id="phone-number"
            name="phone-number"
            class="form-control"
            placeholder="Enter Patient's Phone Number"
            formControlName="phoneNumber"
          />
          <div
            *ngIf="
              patientInfoForm.controls.phoneNumber.dirty &&
              patientInfoForm.controls.phoneNumber.errors
            "
            class="input-errors"
          >
            <p *ngIf="patientInfoForm.controls.phoneNumber.errors.required">
              This field is required!
            </p>
            <p *ngIf="patientInfoForm.controls.phoneNumber.errors.pattern">
              This field accept only phone number!
            </p>
          </div>
        </div>
      </form>

      <form *ngIf="isAddingPatient" [formGroup]="addPatientInfoForm">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="phone-number">Phone Number</label>
              <input
                type="tel"
                id="phone-number"
                name="phone-number"
                class="form-control"
                placeholder="Enter Patient's Phone Number"
                formControlName="phoneNumber"
                disabled
              />
              <div
                *ngIf="
                  addPatientInfoForm.controls.phoneNumber.dirty &&
                  addPatientInfoForm.controls.phoneNumber.errors
                "
                class="input-errors"
              >
                <p *ngIf="addPatientInfoForm.controls.phoneNumber.errors.required">
                  This field is required!
                </p>
                <p *ngIf="addPatientInfoForm.controls.phoneNumber.errors.pattern">
                  This field accept only phone number!
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="full-name">Full Name</label>
              <input
                type="text"
                id="full-name"
                name="full-name"
                class="form-control"
                placeholder="Enter Patient's Full Name"
                formControlName="fullName"
              />
              <div
                *ngIf="
                  addPatientInfoForm.controls.fullName.dirty &&
                  addPatientInfoForm.controls.fullName.errors
                "
                class="input-errors"
              >
                <p *ngIf="addPatientInfoForm.controls.fullName.errors.required">
                  This field is required!
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="gender">Gender</label>
              <select class="form-control" formControlName="gender">
                <option [disabled]="true" [value]="null">Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="birthdate">Birthdate</label>
              <input
                  type="date"
                  id="birthdate"
                  name="birthdate"
                  class="form-control"
                  formControlName="birthdate"
                />
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="height">Height</label>
              <input
                  type="number"
                  id="height"
                  name="height"
                  class="form-control"
                  formControlName="height"
                />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="weight">Weight</label>
              <input
                  type="number"
                  id="weight"
                  name="weight"
                  class="form-control"
                  formControlName="weight"
                />
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
</div>

<div class="modal-footer d-flex justify-content-center">
  <button
    type="button"
    class="btn btn-primary text-white"
    (click)="onReserveAppointment()"
    [disabled]="patientInfoForm.invalid || (addPatientInfoForm?.invalid && isAddingPatient)"
  >
    Continue
  </button>
</div>
